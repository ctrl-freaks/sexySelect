!function(){if(!window.jQuery)return window.console&&console.error("sexySelect requires jQuery  http://jquery.com/download/"),!1;var e=100,s=[".sexy-select-menu",".sexy-select-menu .select-toggle",".sexy-select-menu span"].join(", ");!function($){function t(s){console.log("openMenu()");var t=$('.sexy-select-menu[data-open="true"]');t.length>0&&a(t),s.children(".select-toggle").focus().addClass("open"),setTimeout(function(){s.attr("data-open",!0)},e)}function a(e){console.log("closeMenu()"),e.attr("data-open",!1),e.children(".select-toggle").removeClass("open"),e.find("span").removeClass("selected"),e.find('span[data-selected="true"]').addClass("selected")}function n(e,s){console.log("selectOption("+$(e).attr("data-value")+")");var t=$(e).parent().parent().parent(),n=t.find("span");n.removeClass("selected").attr("data-selected",!1),e.addClass("selected").attr("data-selected",!0),t.children(".select-toggle").html($(e).attr("data-value")),a(t),$(s).val($(e).attr("data-value"))}function l(e,s){var a=e.options,l=$('<div class="sexy-select-menu"></div>'),o=$("<ul/>"),d=$("<a/>",{"class":"select-toggle",href:"#",draggable:"false"});s.disabled&&(l.addClass("sexy-disabled"),d.attr("tabindex",-1)),s.width&&(l.addClass("sexy-fixed"),l.css("width",s.width),l.css("width","100%"));var c;$.each(a,function(e){var s=$("<li/>"),t=$("<span/>",{"data-value":a[e].value});t.html(a[e].innerHTML),(a[e].selected||1>e)&&(c=t),s.append(t),o.append(s)}),l.append(d),l.append(o),n(c,e);var r,i,u;return l.attr("data-open",!1),l.on({mousedown:function(e){if(e.preventDefault(),$(e.target).hasClass("select-toggle")&&(r=(new Date).getTime(),!$(e.target).hasClass("open"))){var s=$(e.target).parent();t(s)}},mousemove:function(e){$(e.target)!=u&&(o.find("span").removeClass("active"),$(e.target).addClass("active"),u=$(e.target))},mouseup:function(s){$(s.target).is("ul li span")&&n($(s.target),e)}}),d.on({mouseup:function(e){i=(new Date).getTime(),250>i-r?(console.log("not longPress"),longPress=!1):i-r>=300&&(console.log("longPress"),longPress=!0)}}),o.find("span").on("click",function(){$(this).hasClass("selected")||n($(this),e)}),l}$(window).on({mouseup:function(e){var t=$(".sexy-select-menu a.select-toggle.open"),n=t.parent();n.length>0&&(!$(e.target).is(s)||longPress)&&a(n)},keydown:function(e){var s=$(".sexy-select-menu a.select-toggle.open");if(s.length>0){var t=s.siblings("ul").find("span.selected");38==e.which?t.parent().prev().length>0&&(t.removeClass("selected"),t.parent().prev().children("span").addClass("selected")):40==e.which?t.parent().next().length>0&&(t.removeClass("selected"),t.parent().next().children("span").addClass("selected")):13==e.which?(t.attr("data-selected",!0),s.html(t.attr("data-value")),s.removeClass("open")):27==e.which&&s.removeClass("open")}else $(".sexy-select-menu a.select-toggle").is(":focus")&&(13==e.which||40==e.which||38==e.which)&&(e.preventDefault(),$(".sexy-select-menu a.select-toggle:focus").addClass("open").siblings("ul").find("span").removeClass("selected"),$(".sexy-select-menu a.select-toggle:focus").addClass("open").siblings("ul").find('span[data-selected="true"]').addClass("selected"))}});var o=function(e,s){s=s||{},o.hidden=$(e).addClass("sexy-select--hidden"),e.disabled&&(s.disabled=!0),$(l(e,s)).insertAfter($(e))};$.fn.sexySelect=function(e){var s=this;return this.length<1&&window.console?(console.warn("No instances of '"+this.selector+"'"),!1):this.each(function(){var s=new o(this,e)})}}(jQuery)}();